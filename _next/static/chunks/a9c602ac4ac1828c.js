(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98427,e=>{"use strict";e.s(["default",()=>r]);var s=e.i(43476),t=e.i(71645);let l={dimensions:["技能A","技能B","技能C","技能D","技能E"],groups:[{name:"组员1",values:[85,90,78,92,88]},{name:"组员2",values:[75,85,90,80,85]},{name:"组员3",values:[90,80,85,88,90]}]};function r(e){let{initialData:r=l,onChange:a,className:n=""}=e,[o,i]=(0,t.useState)(r),d=(0,t.useCallback)(e=>{i(e),null==a||a(e)},[a]);(0,t.useEffect)(()=>{console.log(o)},[o]);let c=(0,t.useCallback)((e,s)=>{d({...o,dimensions:o.dimensions.map((t,l)=>l===e?s:t)})},[o,d]),u=(0,t.useCallback)((e,s)=>{d({...o,groups:o.groups.map((t,l)=>l===e?{...t,name:s}:t)})},[o,d]),p=(0,t.useCallback)((e,s,t)=>{d({...o,groups:o.groups.map((l,r)=>r===e?{...l,values:l.values.map((e,l)=>l===s?t:e)}:l)})},[o,d]),x=(0,t.useCallback)(()=>{let e="维度".concat(o.dimensions.length+1);d({dimensions:[...o.dimensions,e],groups:o.groups.map(e=>({...e,values:[...e.values,0]}))})},[o,d]),h=(0,t.useCallback)(e=>{o.dimensions.length<=1||d({dimensions:o.dimensions.filter((s,t)=>t!==e),groups:o.groups.map(s=>({...s,values:s.values.filter((s,t)=>t!==e)}))})},[o,d]),m=(0,t.useCallback)(()=>{let e={name:"分组".concat(o.groups.length+1),values:Array(o.dimensions.length).fill(0)};d({...o,groups:[...o.groups,e]})},[o,d]),g=(0,t.useCallback)(e=>{o.groups.length<=1||d({...o,groups:o.groups.filter((s,t)=>t!==e)})},[o,d]),b=e=>{!/[0-9]|Backspace|Delete|ArrowLeft|ArrowRight|Tab/.test(e.key)&&e.target instanceof HTMLInputElement&&"number"===e.target.type&&e.preventDefault()};return(0,s.jsx)("div",{className:"w-full h-full overflow-hidden bg-white ".concat(n),children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"雷达图数据表"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:x,className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"+ 添加维度"}),(0,s.jsx)("button",{onClick:m,className:"px-3 py-1 text-sm bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"+ 添加分组"})]})]}),(0,s.jsx)("div",{className:"h-[150px] border border-gray-300 overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("div",{style:{minWidth:"".concat(160+160*o.dimensions.length,"px")},children:[(0,s.jsx)("div",{className:"sticky top-0 z-10 bg-white border-gray-300",children:(0,s.jsxs)("table",{className:"w-full table-fixed",children:[(0,s.jsxs)("colgroup",{children:[(0,s.jsx)("col",{style:{width:"160px"}}),o.dimensions.map((e,t)=>(0,s.jsx)("col",{style:{width:"160px"}},t))]}),(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("th",{className:"sticky left-0 z-20 px-2 py-1 border-r border-gray-300 text-left text-sm font-medium text-gray-700 bg-gray-50",style:{width:"160px"},children:"分组 \\ 维度"}),o.dimensions.map((e,t)=>(0,s.jsx)("th",{className:"px-2 py-1 border-r border-gray-300 relative group w-[80px]",style:{width:"80px"},children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"text",id:"dimension-".concat(t),value:e,onChange:e=>c(t,e.target.value),className:"w-full text-sm font-medium text-gray-700 bg-transparent border-none focus:outline-none px-1",placeholder:"维度名称"}),o.dimensions.length>1&&(0,s.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity absolute top-1 right-1",children:(0,s.jsx)("button",{onClick:()=>h(t),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded",title:"删除维度",children:(0,s.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M9 3V4H4V6H5V19C5 20.1 5.9 21 7 21H17C18.1 21 19 20.1 19 19V6H20V4H15V3H9ZM7 6H17V19H7V6ZM9 8V17H11V8H9ZM13 8V17H15V8H13Z"})})})})]})},t))]})})]})}),(0,s.jsx)("div",{className:"max-h-[180px]",children:(0,s.jsxs)("table",{className:"w-full table-fixed",style:{borderCollapse:"collapse"},children:[(0,s.jsxs)("colgroup",{children:[(0,s.jsx)("col",{style:{width:"160px"}}),o.dimensions.map((e,t)=>(0,s.jsx)("col",{style:{width:"160px"}},t))]}),(0,s.jsx)("tbody",{children:o.groups.map((e,t)=>(0,s.jsxs)("tr",{className:"border border-l-0 border-gray-300 hover:bg-gray-50 group",children:[(0,s.jsx)("td",{className:"px-0 py-0 border-r border-gray-300 bg-gray-50 sticky left-0 z-10",style:{width:"160px"},children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"text",id:"group-".concat(t),value:e.name,onChange:e=>u(t,e.target.value),className:"flex-1 text-sm font-medium text-gray-700 bg-transparent border-none focus:outline-none px-1",placeholder:"分组名称"}),o.groups.length>1&&(0,s.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)("button",{onClick:()=>g(t),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-100 rounded ml-1",title:"删除分组",children:(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M9 3V4H4V6H5V19C5 20.1 5.9 21 7 21H17C18.1 21 19 20.1 19 19V6H20V4H15V3H9ZM7 6H17V19H7V6ZM9 8V17H11V8H9ZM13 8V17H15V8H13Z"})})})})]})}),e.values.map((e,l)=>(0,s.jsx)("td",{className:"px-0 py-0 border-r border-gray-300 w-[80px]",style:{width:"80px"},children:(0,s.jsx)("input",{type:"number",value:e,onChange:e=>p(t,l,Number(e.target.value)||0),onKeyDown:b,min:"0",max:"100",className:"w-full text-sm text-gray-700 border-none rounded px-2 py-1 focus:outline-none",placeholder:"0"})},l))]},t))})]})})]})})})]})})}}]);